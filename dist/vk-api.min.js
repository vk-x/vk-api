/*! vk-api v0.5.0 (c) Nikita Litvin, git.io/vwqn6 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vk=t():e.vk=t()}(this,function(){return function(e){function t(r){if(o[r])return o[r].exports;var s=o[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){var r,s;s=o(1),r=o(2),r(s,s.method,o(3)),r(s,s.clientMethod,o(4)),r(s,s.method,{execute:!0}),e.exports=s},function(e,t){var o,r={}.hasOwnProperty,s=[].slice;o=6,e.exports={version:"5.53",getAuthUrl:function(e,t,o){var r,s,n,a,i,l;return this.appId=null!=e?e:this.appId,null==t&&(t=[]),s=null!=o?o:{},this.version=null!=(n=s.version)?n:this.version,l=null!=(a=s.windowStyle)?a:"popup",r=null!=(i=s.redirectUrl)?i:"https://oauth.vk.com/blank.html","https://oauth.vk.com/authorize?client_id="+this.appId+"&scope="+t.join(",")+"&redirect_uri="+encodeURIComponent(r)+"&"+("display="+l+"&v="+this.version+"&response_type=token")},authWebsite:function(e,t,o,r){return null==o&&(o="popup"),null==r&&(r=function(){}),new Promise(function(s){return function(n,a){return s.getAccessToken(e).then(function(a){var i,l,d;return a?(r(a),n(a)):(i=s.getAuthUrl(e,t,{windowStyle:o,redirectUrl:"close.html"}),d=window.open(i,"vk-api-auth","width=700,height=600"),l=window.setInterval(function(){return d.closed?(window.clearInterval(l),s.getAccessToken(e).then(function(e){return r(e),n(e)})):void 0},100))})}}(this))},authFrame:function(e){return null==e&&(e=function(){}),new Promise(function(t){return function(o,r){var s;return null==(null!=(s=window.VK)?s.init:void 0)?(e(new Error("VK SDK is not loaded! https://new.vk.com/dev/Javascript_SDK")),r(new Error("VK SDK is not loaded! https://new.vk.com/dev/Javascript_SDK"))):window.VK.init(function(){return e(),o()},function(){return e(new Error("Unknown error")),r()},t.version)}}(this))},getAccessToken:function(e,t){return this.appId=null!=e?e:this.appId,null==t&&(t=function(){}),new Promise(function(e){return function(o,r){return e.request({method:"GET",url:"https://login.vk.com/",params:{act:"openapi",oauth:1,"new":1,aid:e.appId,location:window.document.location.hostname},callback:function(r){var s;return s=r.access_token,e.accessToken=null!=s?s:null,t(e.accessToken),o(e.accessToken)},withCredentials:!0})}}(this))},request:function(e){var t,o,s,n,a,i,l,d,g,c;switch(s=e.method,l=e.url,n=e.params,t=e.callback,g=null!=(a=e.withCredentials)?a:!1,c=new XMLHttpRequest,c.withCredentials=g,c.onload=function(){return t(JSON.parse(this.responseText))},i=function(){var e;e=[];for(o in n)r.call(n,o)&&(d=n[o],e.push(encodeURIComponent(o)+"="+encodeURIComponent(d)));return e}().join("&"),s){case"GET":return c.open(s,l+"?"+i),c.send();case"POST":return c.open(s,l),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(i)}},method:function(e,t,r){return null==t&&(t={}),null==r&&(r=function(){}),new Promise(function(s){return function(n,a){var i;return(i=function(){var l,d;return d=function(e){var t,s;return t=e.error,s=e.response,null!=t?t.error_code===o?setTimeout(i,300):(r(t,s),a(t)):(r(t,s),n(s))},null!=(null!=(l=window.VK)?l.api:void 0)?window.VK.api(e,t,d):(t.access_token=s.accessToken,t.v=s.version,s.request({method:"POST",url:"https://api.vk.com/method/"+e,params:t,callback:d}))})()}}(this))},clientMethod:function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],window.VK.callMethod.apply(window.VK,e)},on:function(e,t){return window.VK.addCallback(e,t)},off:function(e,t){return window.VK.removeCallback(e,t)}}},function(e,t){var o,r=[].slice,s={}.hasOwnProperty;o=function(e,t,o){var n,a,i,l,d;n=function(o,s,n){return o[s]=function(){var o;return o=1<=arguments.length?r.call(arguments,0):[],o.unshift(n),t.apply(e,o)}},d=[];for(l in o)s.call(o,l)&&(a=o[l],a===!0?d.push(n(e,l,l)):(e[l]={},d.push(function(){var t,o,r;for(r=[],t=0,o=a.length;o>t;t++)i=a[t],r.push(n(e[l],i,l+"."+i));return r}())));return d},e.exports=o},function(e,t){var o;o={users:["get","search","isAppUser","getSubscriptions","getFollowers","report","getNearby"],auth:["checkPhone","signup","confirm","restore"],wall:["get","search","getById","post","repost","getReposts","edit","delete","restore","pin","unpin","getComments","createComment","editComment","deleteComment","restoreComment","reportPost","reportComment"],photos:["createAlbum","editAlbum","getAlbums","get","getAlbumsCount","getById","getUploadServer","getOwnerPhotoUploadServer","getChatUploadServer","getMarketUploadServer","getMarketAlbumUploadServer","saveMarketPhoto","saveMarketAlbumPhoto","saveOwnerPhoto","saveWallPhoto","getWallUploadServer","getMessagesUploadServer","saveMessagesPhoto","report","reportComment","search","save","copy","edit","move","makeCover","reorderAlbums","reorderPhotos","getAll","getUserPhotos","deleteAlbum","delete","restore","confirmTag","getComments","getAllComments","createComment","deleteComment","restoreComment","editComment","getTags","putTag","removeTag","getNewTags"],friends:["get","getOnline","getMutual","getRecent","getRequests","add","edit","delete","getLists","addList","editList","deleteList","getAppUsers","getByPhones","deleteAllRequests","getSuggestions","areFriends","getAvailableForCall","search"],widgets:["getComments","getPages"],storage:["get","set","getKeys"],status:["get","set"],audio:["get","getById","getLyrics","search","getUploadServer","save","add","delete","edit","reorder","restore","getAlbums","addAlbum","editAlbum","deleteAlbum","moveToAlbum","setBroadcast","getBroadcastList","getRecommendations","getPopular","getCount"],pages:["get","save","saveAccess","getHistory","getTitles","getVersion","parseWiki","clearCache"],groups:["isMember","getById","get","getMembers","join","leave","search","getCatalog","getCatalogInfo","getInvites","getInvitedUsers","banUser","unbanUser","getBanned","create","edit","editPlace","getSettings","getRequests","editManager","invite","addLink","deleteLink","editLink","reorderLink","removeUser","approveRequest","getCallbackConfirmationCode","getCallbackServerSettings","getCallbackSettings","setCallbackServer","setCallbackServerSettings","setCallbackSettings"],board:["getTopics","getComments","addTopic","createComment","deleteTopic","editTopic","editComment","restoreComment","deleteComment","openTopic","closeTopic","fixTopic","unfixTopic"],video:["get","edit","add","save","delete","restore","search","getUserVideos","getAlbums","getAlbumById","addAlbum","editAlbum","deleteAlbum","reorderAlbums","reorderVideos","addToAlbum","removeFromAlbum","getAlbumsByVideo","getComments","createComment","deleteComment","restoreComment","editComment","getTags","putTag","removeTag","getNewTags","report","reportComment","getCatalog","getCatalogSection","hideCatalogSection"],notes:["get","getById","add","edit","delete","getComments","createComment","editComment","deleteComment","restoreComment"],places:["add","getById","search","checkin","getCheckins","getTypes"],account:["getCounters","setNameInMenu","setOnline","setOffline","lookupContacts","registerDevice","unregisterDevice","setSilenceMode","getPushSettings","setPushSettings","getAppPermissions","getActiveOffers","banUser","unbanUser","getBanned","getInfo","setInfo","changePassword","getProfileInfo","saveProfileInfo"],messages:["get","getDialogs","getById","search","getHistory","getHistoryAttachments","send","delete","deleteDialog","restore","markAsRead","markAsImportant","getLongPollServer","getLongPollHistory","getChat","createChat","editChat","getChatUsers","setActivity","searchDialogs","addChatUser","removeChatUser","getLastActivity","setChatPhoto","deleteChatPhoto"],newsfeed:["get","getRecommended","getComments","getMentions","getBanned","addBan","deleteBan","ignoreItem","unignoreItem","search","getLists","saveList","deleteList","unsubscribe","getSuggestedSources"],likes:["getList","add","delete","isLiked"],polls:["getById","addVote","deleteVote","getVoters","create","edit"],docs:["get","getById","getUploadServer","getWallUploadServer","save","delete","add","getTypes","search","edit"],fave:["getUsers","getPhotos","getPosts","getVideos","getLinks","getMarketItems","addUser","removeUser","addGroup","removeGroup","addLink","removeLink"],notifications:["get","markAsViewed"],stats:["get","trackVisitor","getPostReach"],search:["getHints"],apps:["getCatalog","get","sendRequest","deleteAppRequests","getFriendsList","getLeaderboard","getScore"],utils:["checkLink","resolveScreenName","getServerTime"],database:["getCountries","getRegions","getStreetsById","getCountriesById","getCities","getCitiesById","getUniversities","getSchools","getSchoolClasses","getFaculties","getChairs"],gifts:["get"],market:["get","getById","search","getAlbums","getAlbumById","createComment","getComments","deleteComment","restoreComment","editComment","reportComment","getCategories","report","add","edit","delete","restore","reorderItems","reorderAlbums","addAlbum","editAlbum","deleteAlbum","removeFromAlbum","addToAlbum"],ads:["getAccounts","getClients","createClients","updateClients","deleteClients","getCampaigns","createCampaigns","updateCampaigns","deleteCampaigns","getAds","getAdsLayout","getAdsTargeting","createAds","updateAds","deleteAds","checkLink","getStatistics","getDemographics","getAdsPostsReach","getBudget","getOfficeUsers","addOfficeUsers","removeOfficeUsers","getTargetingStats","getSuggestions","getCategories","getUploadURL","getVideoUploadURL","getFloodStats","getRejectionReason","createTargetGroup","updateTargetGroup","deleteTargetGroup","getTargetGroups","importTargetContacts"]},e.exports=o},function(e,t){var o;o={showInstallBox:!0,showSettingsBox:!0,showRequestBox:!0,showInviteBox:!0,showOrderBox:!0,showPaymentBox:!0,showLeadsPaymentBox:!0,showProfilePhotoBox:!0,saveWallPost:!0,resizeWindow:!0,scrollWindow:!0,setTitle:!0,setLocation:!0,scrollTop:!0,scrollSubscribe:!0,saveProfilePhoto:!0,showInstallPushBox:!0},e.exports=o}])});